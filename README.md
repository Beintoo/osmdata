<!-- README.md is generated from README.Rmd. Please edit that file -->
[![Build Status](https://travis-ci.org/osmdatar/osmdata.svg?branch=master)](https://travis-ci.org/osmdatar/osmdata) [![Build status](https://ci.appveyor.com/api/projects/status/github/osmdatar/osmdata?svg=true)](https://ci.appveyor.com/project/osmdatar/osmdata) [![codecov](https://codecov.io/gh/osmdatar/osmdata/branch/master/graph/badge.svg)](https://codecov.io/gh/osmdatar/osmdata) [![Project Status: WIP](http://www.repostatus.org/badges/0.1.0/wip.svg)](http://www.repostatus.org/#wip) [![CRAN\_Status\_Badge](http://www.r-pkg.org/badges/version/osmdata)](http://cran.r-project.org/web/packages/osmdata)

![](./fig/title.png)

`osmdata` is an R package for accessing OpenStreetMap (OSM) data using the [Overpass API](http://wiki.openstreetmap.org/wiki/Overpass_API). The Overpass API (or OSM3S) is a read-only API that serves up custom selected parts of the OSM map data. Map data are returned as [`sp`](https://cran.r-project.org/package=sp) objects.

### Installation

``` r
devtools::install_github("osmdatar/osmdata")
```

    #> Loading osmdata
    #> Data (c) OpenStreetMap contributors, ODbL 1.0. http://www.openstreetmap.org/copyright

Current verison:

``` r
library(osmdata)
packageVersion("osmdata")
#> [1] '0.0.0'
```

### Usage

[Overpass API](http://wiki.openstreetmap.org/wiki/Overpass_API) queries can be built from a base query constructed with `opq` followed by `add_feature`. The corresponding OSM objects are then downloaded and converted to `sp` objects with `osmdata_sp`. For example,

``` r
q0 <- opq (bbox=c(-0.12,51.51,-0.11,51.52)) # Central London, U.K.
q1 <- add_feature (q0, key='building')
bu <- osmdata_sp (q1)
bu
#> Object of class 'osmdata' with:
#>   $bbox          : 51.51,-0.12,51.52,-0.11
#>   $overpass_call : The call submitted to the overpass API
#>   $timestamp     : [ Mon Dec 19 15:29:10 2016 ]
#>   $osm_points    : 'sp' SpatialPointsDataFrame   with 5071 points
#>   $osm_lines     : 'sp' SpatialLinesDataFrame    with 14 lines
#>   $osm_polygons  : 'sp' SpatialPolygonsDataFrame with 578 polygons
```

or,

``` r
q2 <- add_feature (q0, key='highway', value='secondary')
q2 <- add_feature (q0, key='highway')
hs <- osmdata_sp (q2)
hs
#> Object of class 'osmdata' with:
#>   $bbox          : 51.51,-0.12,51.52,-0.11
#>   $overpass_call : The call submitted to the overpass API
#>   $timestamp     : [ Mon Dec 19 15:29:11 2016 ]
#>   $osm_points    : 'sp' SpatialPointsDataFrame   with 1985 points
#>   $osm_lines     : 'sp' SpatialLinesDataFrame    with 545 lines
#>   $osm_polygons  : 'sp' SpatialPolygonsDataFrame with 34 polygons
```

Plotting with `sp`:

``` r
sp::plot (bu$osm_polygons)
lines (hs$osm_lines, col="red")
```

![](./fig/README-plot1.png)

OSM data can also be downloaded in OSM XML format with `osmdata_xml` and saved for use with other software.

``` r
bu_xml <- osmdata_xml (q1)
xml2::write_xml (bu_xml, file="buildings.osm")
```

The [Overpass API](http://wiki.openstreetmap.org/wiki/Overpass_API) provides access to OSM elements selected by search criteria such as location, types of objects, tag properties, proximity, or combinations of these.

To explore simple Overpass queries interactively, try [overpass turbo](http://overpass-turbo.eu/), and to find out more about building queries see the [Language Guide](http://wiki.openstreetmap.org/wiki/Overpass_API/Language_Guide) or the more comprehensive [Language Reference](http://wiki.openstreetmap.org/wiki/Overpass_API/Overpass_QL).

<!--
The following functions are implemented:

- `add_feature`:    Add a feature to an Overpass query
- `available_features`: List recognized features in OSM Overpass
- `available_tags`: List tags associated with a feature
- `bbox_to_string`: Convert a named matrix or a named vector (or an unnamed vector) return a string
- `opq`:    Begin building an Overpass query
- `overpass_query`: Issue OSM Overpass Query
- `overpass_status`:    Retrieve status of the Overpass API
- `read_osm`:   Read an XML OSM Overpass response from path
-->
### Further examples

``` r
q0 <- opq (bbox=getbb ("Bonn")) # Bonn, Germany
q1 <- add_feature (q0, key="railway", value="station")
overpass_query (q1, quiet=TRUE)
#> [1] "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<osm version=\"0.6\" generator=\"Overpass API\">\n<note>The data included in this document is from www.openstreetmap.org. The data is made available under ODbL.</note>\n<meta osm_base=\"2016-12-19T14:28:03Z\"/>\n\n  <node id=\"26945519\" lat=\"50.7150819\" lon=\"7.1592397\">\n    <tag k=\"VRS:gemeinde\" v=\"BONN\"/>\n    <tag k=\"VRS:name\" v=\"Oberkassel Bf\"/>\n    <tag k=\"VRS:ortsteil\" v=\"Oberkassel\"/>\n    <tag k=\"VRS:ref\" v=\"68801\"/>\n    <tag k=\"name\" v=\"Bonn-Oberkassel\"/>\n    <tag k=\"network\" v=\"VRS\"/>\n    <tag k=\"public_transport\" v=\"station\"/>\n    <tag k=\"railway\" v=\"station\"/>\n    <tag k=\"railway:ref\" v=\"KBOD\"/>\n    <tag k=\"railway:station_category\" v=\"%\"/>\n    <tag k=\"uic_ref\" v=\"8001086\"/>\n    <tag k=\"wheelchair\" v=\"limited\"/>\n    <tag k=\"wikipedia\" v=\"de:Bahnhof Bonn-Oberkassel\"/>\n  </node>\n  <node id=\"31172814\" lat=\"50.5770828\" lon=\"7.2302899\">\n    <tag k=\"VRS:gemeinde\" v=\"REMAGEN\"/>\n    <tag k=\"VRS:name\" v=\"Remagen Bf\"/>\n    <tag k=\"VRS:ortsteil\" v=\"Mitte\"/>\n    <tag k=\"VRS:ref\" v=\"98201\"/>\n    <tag k=\"name\" v=\"Remagen\"/>\n    <tag k=\"operator\" v=\"DB Netz AG\"/>\n    <tag k=\"public_transport\" v=\"station\"/>\n    <tag k=\"railway\" v=\"station\"/>\n    <tag k=\"railway:ref\" v=\"KRE\"/>\n    <tag k=\"railway:station_category\" v=\"3\"/>\n    <tag k=\"uic_ref\" v=\"8000310\"/>\n    <tag k=\"wheelchair\" v=\"yes\"/>\n    <tag k=\"wikipedia\" v=\"de:Bahnhof Remagen\"/>\n  </node>\n  <node id=\"31172863\" lat=\"50.6031031\" lon=\"7.2196188\">\n    <tag k=\"VRS:gemeinde\" v=\"UNKEL\"/>\n    <tag k=\"VRS:name\" v=\"Unkel Bf\"/>\n    <tag k=\"VRS:ortsteil\" v=\"Mitte\"/>\n    <tag k=\"VRS:ref\" v=\"96701\"/>\n    <tag k=\"name\" v=\"Unkel\"/>\n    <tag k=\"public_transport\" v=\"station\"/>\n    <tag k=\"railway\" v=\"station\"/>\n    <tag k=\"uic_ref\" v=\"8005970\"/>\n    <tag k=\"wheelchair\" v=\"no\"/>\n  </node>\n  <node id=\"35879657\" lat=\"50.7940258\" lon=\"7.2026578\">\n    <tag k=\"VRS:gemeinde\" v=\"SIEGBURG\"/>\n    <tag k=\"VRS:name\" v=\"Siegburg Bf\"/>\n    <tag k=\"VRS:ortsteil\" v=\"Mitte\"/>\n    <tag k=\"VRS:ref\" v=\"55101\"/>\n    <tag k=\"iata\" v=\"ZPY\"/>\n    <tag k=\"iata:note\" v=\"Den IATA-Code hat der Bahnhof wegen des AIRail-Verkehrsangebots.\"/>\n    <tag k=\"name\" v=\"Siegburg/Bonn\"/>\n    <tag k=\"network\" v=\"VRS\"/>\n    <tag k=\"public_transport\" v=\"station\"/>\n    <tag k=\"railway\" v=\"station\"/>\n    <tag k=\"railway:ref\" v=\"KSIB\"/>\n    <tag k=\"railway:station_category\" v=\"3\"/>\n    <tag k=\"uic_ref\" v=\"8005556\"/>\n    <tag k=\"wheelchair\" v=\"yes\"/>\n    <tag k=\"wikipedia\" v=\"de:Bahnhof Siegburg/Bonn\"/>\n  </node>\n  <node id=\"571631992\" lat=\"50.6690597\" lon=\"7.2078611\">\n    <tag k=\"name\" v=\"Schloß Drachenburg\"/>\n    <tag k=\"railway\" v=\"station\"/>\n    <tag k=\"wheelchair\" v=\"limited\"/>\n  </node>\n  <node id=\"1035816561\" lat=\"50.6897349\" lon=\"7.0260188\"/>\n  <node id=\"1035816575\" lat=\"50.6898464\" lon=\"7.0258993\"/>\n  <node id=\"1035816591\" lat=\"50.6898140\" lon=\"7.0260216\"/>\n  <node id=\"1035816599\" lat=\"50.6897691\" lon=\"7.0260081\"/>\n  <node id=\"1035816625\" lat=\"50.6897424\" lon=\"7.0259905\"/>\n  <node id=\"1035816657\" lat=\"50.6897161\" lon=\"7.0258132\"/>\n  <node id=\"1035816661\" lat=\"50.6897727\" lon=\"7.0259943\"/>\n  <node id=\"1035816717\" lat=\"50.6896725\" lon=\"7.0259776\"/>\n  <node id=\"1271017705\" lat=\"50.7385235\" lon=\"7.1276816\">\n    <tag k=\"VRS:gemeinde\" v=\"BONN\"/>\n    <tag k=\"VRS:name\" v=\"Beuel Bf\"/>\n    <tag k=\"VRS:ortsteil\" v=\"Beuel\"/>\n    <tag k=\"VRS:ref\" v=\"65101\"/>\n    <tag k=\"name\" v=\"Bonn-Beuel\"/>\n    <tag k=\"network\" v=\"VRS\"/>\n    <tag k=\"public_transport\" v=\"station\"/>\n    <tag k=\"railway\" v=\"station\"/>\n    <tag k=\"railway:ref\" v=\"KBB\"/>\n    <tag k=\"railway:station_category\" v=\"4\"/>\n    <tag k=\"uic_ref\" v=\"8001083\"/>\n    <tag k=\"wheelchair\" v=\"limited\"/>\n    <tag k=\"wheelchair:description\" v=\"Gleis 1 (Richtung Koblenz) ohne Stufen erreichbar, Gleis 2 (Richtung Köln) nur über Treppen\"/>\n    <tag k=\"wikipedia\" v=\"de:Bahnhof Bonn-Beuel\"/>\n  </node>\n  <node id=\"1293148815\" lat=\"50.7532001\" lon=\"7.0160622\">\n    <tag k=\"VRS:gemeinde\" v=\"BORNHEIM\"/>\n    <tag k=\"VRS:name\" v=\"Roisdorf Bf\"/>\n    <tag k=\"VRS:ortsteil\" v=\"Roisdorf\"/>\n    <tag k=\"VRS:ref\" v=\"53101\"/>\n    <tag k=\"alt_name\" v=\"Bornheim-Roisdorf\"/>\n    <tag k=\"name\" v=\"Roisdorf\"/>\n    <tag k=\"network\" v=\"VRS\"/>\n    <tag k=\"operator\" v=\"DB Station&amp;Service AG\"/>\n    <tag k=\"public_transport\" v=\"station\"/>\n    <tag k=\"railway\" v=\"station\"/>\n    <tag k=\"railway:ref\" v=\"KROI\"/>\n    <tag k=\"railway:station_category\" v=\"5\"/>\n    <tag k=\"uic_ref\" v=\"8005152\"/>\n    <tag k=\"wheelchair\" v=\"no\"/>\n    <tag k=\"wikipedia\" v=\"en:Roisdorf_station\"/>\n  </node>\n  <node id=\"1840058461\" lat=\"50.7799694\" lon=\"7.1495861\">\n    <tag k=\"name\" v=\"Menden (Rheinland)\"/>\n    <tag k=\"network\" v=\"VRS\"/>\n    <tag k=\"public_transport\" v=\"station\"/>\n    <tag k=\"railway\" v=\"station\"/>\n    <tag k=\"railway:ref\" v=\"KMD\"/>\n    <tag k=\"railway:station_category\" v=\"5\"/>\n    <tag k=\"uic_ref\" v=\"8003966\"/>\n    <tag k=\"wheelchair\" v=\"no\"/>\n    <tag k=\"wheelchair:description\" v=\"Beide Gleise nur über Treppe erreichbar\"/>\n  </node>\n  <node id=\"1886566457\" lat=\"50.7612582\" lon=\"6.9896175\">\n    <tag k=\"VRS:gemeinde\" v=\"BORNHEIM\"/>\n    <tag k=\"VRS:ortsteil\" v=\"Mitte\"/>\n    <tag k=\"VRS:ref\" v=\"53211\"/>\n    <tag k=\"name\" v=\"Bornheim\"/>\n    <tag k=\"operator\" v=\"HGK\"/>\n    <tag k=\"railway\" v=\"station\"/>\n    <tag k=\"ref\" v=\"KBHP\"/>\n    <tag k=\"wheelchair\" v=\"yes\"/>\n  </node>\n  <node id=\"1886566507\" lat=\"50.7681603\" lon=\"6.9509611\">\n    <tag k=\"VRS:gemeinde\" v=\"BORNHEIM\"/>\n    <tag k=\"VRS:ortsteil\" v=\"Waldorf\"/>\n    <tag k=\"VRS:ref\" v=\"53311\"/>\n    <tag k=\"name\" v=\"Waldorf\"/>\n    <tag k=\"operator\" v=\"HGK\"/>\n    <tag k=\"railway\" v=\"station\"/>\n    <tag k=\"wheelchair\" v=\"yes\"/>\n  </node>\n  <node id=\"1893493277\" lat=\"50.6394984\" lon=\"7.2194491\">\n    <tag k=\"VRS:gemeinde\" v=\"BAD HONNEF\"/>\n    <tag k=\"VRS:name\" v=\"Bad Honnef Bf\"/>\n    <tag k=\"VRS:ortsteil\" v=\"Mitte\"/>\n    <tag k=\"VRS:ref\" v=\"56101\"/>\n    <tag k=\"name\" v=\"Bad Honnef (Rhein)\"/>\n    <tag k=\"network\" v=\"VRS\"/>\n    <tag k=\"public_transport\" v=\"station\"/>\n    <tag k=\"railway\" v=\"station\"/>\n    <tag k=\"railway:ref\" v=\"KHBD\"/>\n    <tag k=\"railway:station_category\" v=\"5\"/>\n    <tag k=\"toilets:wheelchair\" v=\"no\"/>\n    <tag k=\"uic_ref\" v=\"8000713\"/>\n    <tag k=\"wheelchair\" v=\"no\"/>\n    <tag k=\"wheelchair:description\" v=\"Beide Gleise sind nur über eine Unterführung und Treppen erreichbar\"/>\n    <tag k=\"wikipedia\" v=\"de:Bahnhof Bad Honnef (Rhein)\"/>\n  </node>\n  <node id=\"2122649294\" lat=\"50.8471006\" lon=\"6.9783157\">\n    <tag k=\"VRS:gemeinde\" v=\"KÖLN\"/>\n    <tag k=\"VRS:name\" v=\"Godorf Bf\"/>\n    <tag k=\"VRS:ortsteil\" v=\"Godorf\"/>\n    <tag k=\"VRS:ref\" v=\"12911\"/>\n    <tag k=\"name\" v=\"Godorf\"/>\n    <tag k=\"operator\" v=\"HGK\"/>\n    <tag k=\"railway\" v=\"station\"/>\n    <tag k=\"ref\" v=\"KGOF\"/>\n  </node>\n  <node id=\"2122649296\" lat=\"50.7700105\" lon=\"7.0428235\">\n    <tag k=\"VRS:gemeinde\" v=\"BORNHEIM\"/>\n    <tag k=\"VRS:ortsteil\" v=\"Hersel\"/>\n    <tag k=\"VRS:ref\" v=\"53611\"/>\n    <tag k=\"image\" v=\"https://commons.wikimedia.org/wiki/File:Bahnhof_Hersel.jpg\"/>\n    <tag k=\"name\" v=\"Hersel\"/>\n    <tag k=\"network\" v=\"VRS\"/>\n    <tag k=\"operator\" v=\"HGK\"/>\n    <tag k=\"public_transport\" v=\"station\"/>\n    <tag k=\"railway\" v=\"station\"/>\n    <tag k=\"railway:ref\" v=\"KHRS\"/>\n    <tag k=\"ref\" v=\"KHRS\"/>\n    <tag k=\"wheelchair\" v=\"no\"/>\n  </node>\n  <node id=\"2122649304\" lat=\"50.8908112\" lon=\"6.9901237\">\n    <tag k=\"VRS:gemeinde\" v=\"KÖLN\"/>\n    <tag k=\"VRS:name\" v=\"Rodenkirchen Bf\"/>\n    <tag k=\"VRS:ortsteil\" v=\"Rodenkirchen\"/>\n    <tag k=\"VRS:ref\" v=\"12711\"/>\n    <tag k=\"name\" v=\"Rodenkirchen Bf.\"/>\n    <tag k=\"operator\" v=\"HGK\"/>\n    <tag k=\"railway\" v=\"station\"/>\n    <tag k=\"ref\" v=\"KRK\"/>\n    <tag k=\"wheelchair\" v=\"yes\"/>\n  </node>\n  <node id=\"2122649307\" lat=\"50.8642319\" lon=\"7.0035147\">\n    <tag k=\"VRS:gemeinde\" v=\"KÖLN\"/>\n    <tag k=\"VRS:name\" v=\"Sürth Bf\"/>\n    <tag k=\"VRS:ortsteil\" v=\"Sürth\"/>\n    <tag k=\"VRS:ref\" v=\"12811\"/>\n    <tag k=\"name\" v=\"Sürth\"/>\n    <tag k=\"operator\" v=\"HGK\"/>\n    <tag k=\"railway\" v=\"station\"/>\n    <tag k=\"ref\" v=\"KSU\"/>\n    <tag k=\"wheelchair\" v=\"yes\"/>\n  </node>\n  <node id=\"2122649315\" lat=\"50.8121016\" lon=\"6.9994127\">\n    <tag k=\"VRS:gemeinde\" v=\"WESSELING\"/>\n    <tag k=\"VRS:ortsteil\" v=\"Mitte\"/>\n    <tag k=\"VRS:ref\" v=\"85110\"/>\n    <tag k=\"name\" v=\"Wesseling Süd\"/>\n    <tag k=\"operator\" v=\"HGK\"/>\n    <tag k=\"railway\" v=\"station\"/>\n    <tag k=\"ref\" v=\"KWSS\"/>\n    <tag k=\"wheelchair\" v=\"yes\"/>\n  </node>\n  <node id=\"2122649316\" lat=\"50.8228784\" lon=\"6.9796348\">\n    <tag k=\"VRS:gemeinde\" v=\"WESSELING\"/>\n    <tag k=\"VRS:ortsteil\" v=\"Mitte\"/>\n    <tag k=\"VRS:ref\" v=\"85111\"/>\n    <tag k=\"name\" v=\"Wesseling\"/>\n    <tag k=\"operator\" v=\"HGK\"/>\n    <tag k=\"railway\" v=\"station\"/>\n    <tag k=\"ref\" v=\"KWSL\"/>\n    <tag k=\"toilets:wheelchair\" v=\"yes\"/>\n    <tag k=\"wheelchair\" v=\"yes\"/>\n  </node>\n  <node id=\"2122649318\" lat=\"50.7911584\" lon=\"7.0226438\">\n    <tag k=\"VRS:gemeinde\" v=\"BORNHEIM\"/>\n    <tag k=\"VRS:ortsteil\" v=\"Hersel\"/>\n    <tag k=\"VRS:ref\" v=\"53614\"/>\n    <tag k=\"name\" v=\"Widdig\"/>\n    <tag k=\"operator\" v=\"HGK\"/>\n    <tag k=\"railway\" v=\"station\"/>\n    <tag k=\"ref\" v=\"KWDG\"/>\n    <tag k=\"wheelchair\" v=\"no\"/>\n  </node>\n  <node id=\"2335209052\" lat=\"50.6274438\" lon=\"7.0147044\">\n    <tag k=\"VRS:gemeinde\" v=\"MECKENHEIM\"/>\n    <tag k=\"VRS:name\" v=\"Meckenheim Bf\"/>\n    <tag k=\"VRS:ortsteil\" v=\"Mitte\"/>\n    <tag k=\"VRS:ref\" v=\"51101\"/>\n    <tag k=\"name\" v=\"Meckenheim\"/>\n    <tag k=\"network\" v=\"Verkehrsverbund Rhein-Sieg\"/>\n    <tag k=\"old_name\" v=\"Meckenheim (Bz Köln)\"/>\n    <tag k=\"operator\" v=\"DB Station&amp;Service AG\"/>\n    <tag k=\"public_transport\" v=\"station\"/>\n    <tag k=\"railway\" v=\"station\"/>\n    <tag k=\"railway:ref\" v=\"KMCK\"/>\n    <tag k=\"uic_ref\" v=\"8003931\"/>\n    <tag k=\"wheelchair\" v=\"limited\"/>\n  </node>\n  <node id=\"2393909506\" lat=\"50.6896913\" lon=\"7.0261289\">\n    <tag k=\"VRS:gemeinde\" v=\"ALFTER\"/>\n    <tag k=\"VRS:name\" v=\"Witterschlick Bf\"/>\n    <tag k=\"VRS:ortsteil\" v=\"Witterschlick\"/>\n    <tag k=\"VRS:ref\" v=\"53901\"/>\n    <tag k=\"name\" v=\"Alfter-Witterschlick\"/>\n    <tag k=\"network\" v=\"Verkehrsverbund Rhein-Sieg\"/>\n    <tag k=\"note\" v=\"Der Bahnhof wurde am 14.12.2014 von &quot;Witterschlick&quot; in &quot;Alfter-Witterschlick&quot; umbenannt\"/>\n    <tag k=\"operator\" v=\"DB Station &amp; Service AG\"/>\n    <tag k=\"public_transport\" v=\"station\"/>\n    <tag k=\"railway\" v=\"station\"/>\n    <tag k=\"railway:ref\" v=\"KWIS\"/>\n    <tag k=\"railway:station_category\" v=\"6\"/>\n    <tag k=\"uic_ref\" v=\"8006516\"/>\n  </node>\n  <node id=\"2428355974\" lat=\"50.6837893\" lon=\"7.1596957\">\n    <tag k=\"VRS:gemeinde\" v=\"BONN\"/>\n    <tag k=\"VRS:name\" v=\"Bad Godesberg Bf\"/>\n    <tag k=\"VRS:ortsteil\" v=\"Bad Godesberg\"/>\n    <tag k=\"VRS:ref\" v=\"66101\"/>\n    <tag k=\"name\" v=\"Bonn-Bad Godesberg\"/>\n    <tag k=\"network\" v=\"VRS\"/>\n    <tag k=\"operator\" v=\"DB Station&amp;Service AG\"/>\n    <tag k=\"public_transport\" v=\"station\"/>\n    <tag k=\"railway\" v=\"station\"/>\n    <tag k=\"railway:ref\" v=\"KBBG\"/>\n    <tag k=\"railway:station_category\" v=\"4\"/>\n    <tag k=\"toilets:wheelchair\" v=\"no\"/>\n    <tag k=\"uic_ref\" v=\"8001082\"/>\n    <tag k=\"wheelchair\" v=\"no\"/>\n    <tag k=\"wikipedia\" v=\"de:Bahnhof Bonn-Bad Godesberg\"/>\n  </node>\n  <node id=\"2529192010\" lat=\"50.6292098\" lon=\"6.9476212\">\n    <tag k=\"VRS:gemeinde\" v=\"RHEINBACH\"/>\n    <tag k=\"VRS:name\" v=\"Rheinbach Bf\"/>\n    <tag k=\"VRS:ortsteil\" v=\"Mitte\"/>\n    <tag k=\"VRS:ref\" v=\"52501\"/>\n    <tag k=\"name\" v=\"Rheinbach\"/>\n    <tag k=\"network\" v=\"Verkehrsverbund Rhein-Sieg\"/>\n    <tag k=\"operator\" v=\"DB Station&amp;Service AG\"/>\n    <tag k=\"public_transport\" v=\"station\"/>\n    <tag k=\"railway\" v=\"station\"/>\n    <tag k=\"railway:ref\" v=\"KRBA\"/>\n    <tag k=\"wheelchair\" v=\"yes\"/>\n  </node>\n  <node id=\"2706250003\" lat=\"50.7954311\" lon=\"6.9577218\">\n    <tag k=\"VRS:gemeinde\" v=\"BORNHEIM\"/>\n    <tag k=\"VRS:name\" v=\"Sechtem Bf\"/>\n    <tag k=\"VRS:ortsteil\" v=\"Sechtem\"/>\n    <tag k=\"VRS:ref\" v=\"53501\"/>\n    <tag k=\"name\" v=\"Sechtem\"/>\n    <tag k=\"network\" v=\"VRS\"/>\n    <tag k=\"public_transport\" v=\"station\"/>\n    <tag k=\"railway\" v=\"station\"/>\n    <tag k=\"railway:ref\" v=\"KSEC\"/>\n    <tag k=\"railway:station_category\" v=\"4\"/>\n    <tag k=\"uic_ref\" v=\"8005499\"/>\n    <tag k=\"wheelchair\" v=\"yes\"/>\n    <tag k=\"wheelchair:description\" v=\"Beide Gleise über Rampen / Aufzüge erreichbar\"/>\n    <tag k=\"wikipedia\" v=\"de:Bahnhof Sechtem\"/>\n  </node>\n  <node id=\"2713060210\" lat=\"50.7320436\" lon=\"7.0967647\">\n    <tag k=\"VRS:gemeinde\" v=\"BONN\"/>\n    <tag k=\"VRS:ortsteil\" v=\"Innenstadt\"/>\n    <tag k=\"VRS:ref\" v=\"61101\"/>\n    <tag k=\"name\" v=\"Bonn Hauptbahnhof\"/>\n    <tag k=\"network\" v=\"VRS\"/>\n    <tag k=\"operator\" v=\"DB Station&amp;Service AG\"/>\n    <tag k=\"public_transport\" v=\"station\"/>\n    <tag k=\"railway\" v=\"station\"/>\n    <tag k=\"railway:ref\" v=\"KB\"/>\n    <tag k=\"railway:station_category\" v=\"2\"/>\n    <tag k=\"ref:ibnr\" v=\"8000044\"/>\n    <tag k=\"uic_ref\" v=\"8000044\"/>\n    <tag k=\"wheelchair\" v=\"yes\"/>\n    <tag k=\"wikipedia\" v=\"de:Bonn Hauptbahnhof\"/>\n  </node>\n  <node id=\"2949341746\" lat=\"50.8144039\" lon=\"7.1489855\">\n    <tag k=\"name\" v=\"Troisdorf\"/>\n    <tag k=\"network\" v=\"VRS\"/>\n    <tag k=\"operator\" v=\"Deutsche Bahn\"/>\n    <tag k=\"public_transport\" v=\"station\"/>\n    <tag k=\"railway\" v=\"station\"/>\n    <tag k=\"railway:ref\" v=\"KT\"/>\n    <tag k=\"railway:station_category\" v=\"3\"/>\n    <tag k=\"uic_ref\" v=\"8000135\"/>\n    <tag k=\"wheelchair\" v=\"yes\"/>\n    <tag k=\"wheelchair:description\" v=\"Aufzüge vorhanden.\"/>\n  </node>\n  <node id=\"3389059044\" lat=\"50.6113675\" lon=\"7.2077658\">\n    <tag k=\"name\" v=\"Oberwinter\"/>\n    <tag k=\"network\" v=\"VRS\"/>\n    <tag k=\"note\" v=\"der Bahnhof hat Ein- und Ausfahrsignale und ist daher ein Bahnhof und keine Überleitstelle+Haltepunkt\"/>\n    <tag k=\"operator\" v=\"DB Station&amp;Service AG\"/>\n    <tag k=\"public_transport\" v=\"station\"/>\n    <tag k=\"railway\" v=\"station\"/>\n    <tag k=\"railway:ref\" v=\"KOWI\"/>\n    <tag k=\"railway:station_category\" v=\"5\"/>\n    <tag k=\"uic_ref\" v=\"8004604\"/>\n    <tag k=\"wheelchair\" v=\"no\"/>\n  </node>\n  <node id=\"3400717493\" lat=\"50.6691408\" lon=\"7.1812300\">\n    <tag k=\"VRS:gemeinde\" v=\"BONN\"/>\n    <tag k=\"VRS:name\" v=\"Mehlem Bf\"/>\n    <tag k=\"VRS:ortsteil\" v=\"Lannesdorf\"/>\n    <tag k=\"VRS:ref\" v=\"67301\"/>\n    <tag k=\"name\" v=\"Bonn-Mehlem\"/>\n    <tag k=\"network\" v=\"VRS\"/>\n    <tag k=\"operator\" v=\"DB Station&amp;Service AG\"/>\n    <tag k=\"public_transport\" v=\"station\"/>\n    <tag k=\"railway\" v=\"station\"/>\n    <tag k=\"railway:ref\" v=\"KBM\"/>\n    <tag k=\"railway:station_category\" v=\"4\"/>\n    <tag k=\"ref:ibnr\" v=\"8001085\"/>\n    <tag k=\"uic_ref\" v=\"8001085\"/>\n    <tag k=\"wheelchair\" v=\"limited\"/>\n    <tag k=\"wikipedia\" v=\"de:Bahnhof Bonn-Mehlem\"/>\n  </node>\n  <node id=\"3544632900\" lat=\"50.6742616\" lon=\"7.1985092\">\n    <tag k=\"building\" v=\"yes\"/>\n    <tag k=\"name\" v=\"Königswinter Drachenfelsbahn\"/>\n    <tag k=\"operator\" v=\"Bergbahnen im Siebengebirge AG\"/>\n    <tag k=\"railway\" v=\"station\"/>\n  </node>\n  <node id=\"4530820016\" lat=\"50.8790802\" lon=\"7.1193621\">\n    <tag k=\"name\" v=\"Köln/Bonn Flughafen\"/>\n    <tag k=\"network\" v=\"VRS\"/>\n    <tag k=\"operator\" v=\"DB Station &amp; Service AG\"/>\n    <tag k=\"public_transport\" v=\"station\"/>\n    <tag k=\"railway\" v=\"station\"/>\n    <tag k=\"railway:ref\" v=\"KFKB\"/>\n    <tag k=\"railway:station_category\" v=\"3\"/>\n    <tag k=\"uic_ref\" v=\"8003330\"/>\n    <tag k=\"wheelchair\" v=\"yes\"/>\n    <tag k=\"wheelchair:description\" v=\"Die Aufzüge am Ausgang Terminal 1 sind mit einer Behindertenevakuierung ausgestattet und dürfen auch im Brandfall genutzt werden\"/>\n    <tag k=\"wikidata\" v=\"Q569474\"/>\n    <tag k=\"wikipedia\" v=\"de:Bahnhof Köln/Bonn Flughafen\"/>\n  </node>\n  <node id=\"4551541309\" lat=\"50.8763336\" lon=\"7.0680748\">\n    <tag k=\"name\" v=\"Porz (Rhein)\"/>\n    <tag k=\"note\" v=\"Bahnhof an der Güterzugstecke 2324 (rechte Rheinstrecke). Der Haltepunkt mit Personenverkehr ist weiter nördlich an der Strecke 2651 (Siegstrecke).\"/>\n    <tag k=\"operator\" v=\"DB Netz AG\"/>\n    <tag k=\"railway\" v=\"station\"/>\n    <tag k=\"railway:ref\" v=\"KPR\"/>\n  </node>\n  <node id=\"4553072696\" lat=\"50.8581620\" lon=\"7.0792250\">\n    <tag k=\"VRS:gemeinde\" v=\"KÖLN\"/>\n    <tag k=\"VRS:name\" v=\"Wahn S-Bahn\"/>\n    <tag k=\"VRS:ortsteil\" v=\"Wahn\"/>\n    <tag k=\"VRS:ref\" v=\"17701\"/>\n    <tag k=\"description\" v=\"Porz-Wahn, Gleis 1\"/>\n    <tag k=\"name\" v=\"Porz-Wahn\"/>\n    <tag k=\"network\" v=\"VRS\"/>\n    <tag k=\"operator\" v=\"DB Station &amp; Service AG\"/>\n    <tag k=\"public_transport\" v=\"station\"/>\n    <tag k=\"railway\" v=\"station\"/>\n    <tag k=\"railway:ref\" v=\"KPW\"/>\n    <tag k=\"railway:station_category\" v=\"4\"/>\n    <tag k=\"uic_ref\" v=\"8004873\"/>\n    <tag k=\"wheelchair\" v=\"yes\"/>\n  </node>\n  <node id=\"4554623085\" lat=\"50.8023184\" lon=\"7.1596338\">\n    <tag k=\"VRS:gemeinde\" v=\"TROISDORF\"/>\n    <tag k=\"VRS:name\" v=\"Friedrich-Wilhelmshütte Bf\"/>\n    <tag k=\"VRS:ortsteil\" v=\"Mitte\"/>\n    <tag k=\"VRS:ref\" v=\"54702\"/>\n    <tag k=\"addr:city\" v=\"Troisdorf\"/>\n    <tag k=\"addr:postcode\" v=\"53840\"/>\n    <tag k=\"name\" v=\"Friedrich-Wilhelms-Hütte\"/>\n    <tag k=\"network\" v=\"VRS\"/>\n    <tag k=\"operator\" v=\"DB Station &amp; Service AG\"/>\n    <tag k=\"public_transport\" v=\"station\"/>\n    <tag k=\"railway\" v=\"station\"/>\n    <tag k=\"railway:ref\" v=\"KFWH\"/>\n    <tag k=\"railway:station_category\" v=\"6\"/>\n    <tag k=\"toilets:wheelchair\" v=\"no\"/>\n    <tag k=\"uic_ref\" v=\"8002104\"/>\n    <tag k=\"wheelchair\" v=\"no\"/>\n    <tag k=\"wheelchair:description\" v=\"Beide Gleise nur über Treppe erreichbar\"/>\n  </node>\n  <node id=\"4554623087\" lat=\"50.6952665\" lon=\"7.1808664\">\n    <tag k=\"VRS:gemeinde\" v=\"KÖNIGSWINTER\"/>\n    <tag k=\"VRS:name\" v=\"Niederdollendorf Bf\"/>\n    <tag k=\"VRS:ortsteil\" v=\"Niederdollendf.\"/>\n    <tag k=\"VRS:ref\" v=\"56501\"/>\n    <tag k=\"name\" v=\"Niederdollendorf\"/>\n    <tag k=\"network\" v=\"VRS\"/>\n    <tag k=\"public_transport\" v=\"station\"/>\n    <tag k=\"railway\" v=\"station\"/>\n    <tag k=\"railway:ref\" v=\"KND\"/>\n    <tag k=\"railway:station_category\" v=\"5\"/>\n    <tag k=\"uic_ref\" v=\"8004366\"/>\n    <tag k=\"wheelchair\" v=\"limited\"/>\n    <tag k=\"wikipedia\" v=\"de:Bahnhof Niederdollendorf\"/>\n  </node>\n  <node id=\"4554623088\" lat=\"50.6788312\" lon=\"7.1933425\">\n    <tag k=\"VRS:gemeinde\" v=\"KÖNIGSWINTER\"/>\n    <tag k=\"VRS:name\" v=\"Königswinter Bf\"/>\n    <tag k=\"VRS:ortsteil\" v=\"Mitte\"/>\n    <tag k=\"VRS:ref\" v=\"56401\"/>\n    <tag k=\"name\" v=\"Königswinter\"/>\n    <tag k=\"network\" v=\"VRS\"/>\n    <tag k=\"public_transport\" v=\"station\"/>\n    <tag k=\"railway\" v=\"station\"/>\n    <tag k=\"railway:ref\" v=\"KKOW\"/>\n    <tag k=\"railway:station_category\" v=\"4\"/>\n    <tag k=\"uic_ref\" v=\"8003386\"/>\n    <tag k=\"wheelchair\" v=\"limited\"/>\n    <tag k=\"wikipedia\" v=\"de:Bahnhof Königswinter\"/>\n  </node>\n  <node id=\"4554623589\" lat=\"50.6581242\" lon=\"7.2100941\">\n    <tag k=\"VRS:gemeinde\" v=\"BAD HONNEF\"/>\n    <tag k=\"VRS:name\" v=\"Rhöndorf Bf\"/>\n    <tag k=\"VRS:ortsteil\" v=\"Rhöndorf\"/>\n    <tag k=\"VRS:ref\" v=\"56201\"/>\n    <tag k=\"name\" v=\"Rhöndorf\"/>\n    <tag k=\"network\" v=\"VRS\"/>\n    <tag k=\"public_transport\" v=\"station\"/>\n    <tag k=\"railway\" v=\"station\"/>\n    <tag k=\"railway:ref\" v=\"KRHD\"/>\n    <tag k=\"railway:station_category\" v=\"5\"/>\n    <tag k=\"uic_ref\" v=\"8005074\"/>\n    <tag k=\"wheelchair\" v=\"limited\"/>\n    <tag k=\"wikipedia\" v=\"de:Bahnhof Rhöndorf\"/>\n  </node>\n  <way id=\"89266285\">\n    <nd ref=\"1035816575\"/>\n    <nd ref=\"1035816591\"/>\n    <nd ref=\"1035816661\"/>\n    <nd ref=\"1035816599\"/>\n    <nd ref=\"1035816625\"/>\n    <nd ref=\"1035816561\"/>\n    <nd ref=\"1035816717\"/>\n    <nd ref=\"1035816657\"/>\n    <nd ref=\"1035816575\"/>\n    <tag k=\"addr:city\" v=\"Alfter\"/>\n    <tag k=\"addr:country\" v=\"DE\"/>\n    <tag k=\"addr:housenumber\" v=\"34\"/>\n    <tag k=\"addr:postcode\" v=\"53347\"/>\n    <tag k=\"addr:street\" v=\"Servaisstraße\"/>\n    <tag k=\"addr:suburb\" v=\"Witterschlick\"/>\n    <tag k=\"area\" v=\"yes\"/>\n    <tag k=\"building\" v=\"yes\"/>\n    <tag k=\"historic:railway\" v=\"station\"/>\n    <tag k=\"name\" v=\"Witterschlick\"/>\n    <tag k=\"railway\" v=\"station\"/>\n  </way>\n\n</osm>\n"
```

``` r
q0 <- opq (bbox=c(7.1,50.7,7.25,50.8))
q1 <- add_feature (q0, key="highway", value="bus_stop")
q1 <- add_feature (q1, key="shelter")
q1 <- add_feature (q1, key="shelter", value="!no")
pts <- overpass_query (q1, quiet=TRUE)
sp::plot (pts$osm_points)
```

![](./fig/README-only_nodes.png)

``` r
q0 <- opq (bbox=getbb ("London, UK"))
q1 <- add_feature (q0, key="highway", value="motorway")
lon <- overpass_query (q1, quiet=TRUE)
sp::plot (lon$osm_lines)
```

![](./fig/README-london-motorways.png)

### Test Results

``` r
date()
#> [1] "Mon Dec 19 15:29:13 2016"

testthat::test_dir("tests/")
#> testthat results ===========================================================
#> OK: 14 SKIPPED: 0 FAILED: 0
#> 
#> DONE ======================================================================
```

### Code of Conduct

Please note that this project is released with a [Contributor Code of Conduct](CONDUCT.md). By participating in this project you agree to abide by its terms.
